let fantasy = [
    "ac", "ade", "ae", "age", "ai", "al", "alpha", "an", "angel", "ar", "art", "arch", "ard", "as", "at", "ath", "aun", "axe",
    "bad", "bath", "beta", "bel", "biel", "blade", "ble", "blood", "bolt", "bri", "bus",
    "ca", "cath", "cha", "chaos", "cia", "cius", "cold", "cool", "con", "cula", "crim", "criss", "crys", "cul",
    "dae", "dark", "death", "dei", "demo", "di", "doom", "dra", "dry", "dus",
    "el", "elle", "eld", "elf", "eli", "ely", "em", "emi", "en", "ene", "ent", "era", "eri", "ess", "et", "eth", "eva", "ever",
    "fallen", "fel", "fi", "fire", "fo", "fu",
    "ga", "gar", "gel", "gon", "good", "grim", "gun",
    "halt", "hard", "hawk", "hi", "hor", "hot", "hum",
    "ian", "ich", "ial", "ice", "iel", "ielle", "il", "in", "ik", "ish", "ita", "ith", "ius", "iv", "ivy", "iri", "iro",
    "ja", "je", "jet", "ji", "jo", "judge", "just",
    "ka", "karma", "kath", "kage", "ki", "kind", "king", "knight", "kryo", "ku",
    "la", "le", "ley", "li", "lich", "line", "lith", "lidy", "light", "liz", "lur", "ly",
    "ma", "mage", "magic", "mal", "mam", "master", "me", "med", "mel", "mer", "mid", "mim", "mist", "miza", "mont", "more",
    "na", "naut", "ne", "ni", "nic", "nika", "nine", "ning", "night", "no", "nom", "nu", "ny",
    "ob", "ome", "on", "oni", "op", "ope", "or", "ory", "os", "ost", "oth", "ous", "ox",
    "pale", "phil", "pi", "por", "pre", "pris",
    "qi", "queen", "quo",
    "rai", "ran", "rath", "re", "rei", "rech", "ren", "ri", "rich", "rick", "riel", "ripe", "ripper", "ro", "ru", "ruel", "ry",
    "sa", "sada", "san", "scythe", "se", "sel", "shi", "sia", "silver", "sin", "shadow", "sky", "soli", "sona", "spear", "star",
    "taly", "tan", "tania", "tek", "ter", "ti", "tic", "tin", "tina", "tri", "trick",
    "us", "uil", "undead", "usa", "utz",
    "val", "ve", "vel", "velle", "vi", "vini", "vo", "void", "von",
    "wal", "war", "well", "will", "win", "witch",
    "xa", "xe", "xi", "xin", "xio", "xue", "xuel",
    "ya", "ye", "yo", "york", "yuri",
    "ze", "zeni", "zeta", "zion", "zu", "zuel"
];

let german = [
    "ak", "al", "alex", "art", "auf", "augs",
    "bar", "be", "bene", "bern", "bert", "bin", "borg", "brun", "burg",
    "caci", "cari", "chim",
    "da", "das", "de", "den", "di", "die", "diet", "dikt", "dith", "dolf", "drik",
    "eber", "eck", "ed", "ekke", "em", "ene", "engel", "enz", "eve",
    "fan", "fia", "fine", "frank", "frei", "fried", "fuh", "fur",
    "gang", "geb", "gen", "go", "gor", "gre", "gun", "gus",
    "halt", "han", "hard", "hein", "helm", "hild", "hilf", "hin", "hold", "hu",
    "ich", "ida", "ir", "isa", "ist",
    "ja", "jak", "jan", "jo", "joa", "jona", "ju",
    "ka", "kann", "kar", "ke", "kla", "kolo", "kor", "kresz", "krim",
    "la", "lebe", "len", "lias", "lius", "lo", "lu", "lud",
    "mann", "maus", "mei", "mein", "merich", "mu", "mund", "muns",
    "nart", "ne", "nes", "nich", "nieder", "nine", "noch",
    "ob",
    "ra", "recht", "ren", "renz", "rer", "rich", "rik",
    "sach", "sieg", "sind", "so", "stein", "sten", "sven",
    "taf", "tav", "ter", "than", "ther", "tiede", "toria", "trud",
    "us", "ute", "utz",
    "ves", "vik", "vin", "von",
    "wal", "walde", "was", "wen", "wie", "wies", "wig", "win", "wolf", "wulf",
    "zel", "zent", "zenz", "zu"
];

let greek = [
    "aca", "achai", "aes", "aga", "agn", "al", "alex", "am", "anas", "ander", "andra", "andros", "aphro", "apol", "arca", "arche", "aris", "arte", 
    "brosia", "brosios",
    "caeus", "cass", "chrys", "chylus", "cius", "cle", "clid", "co", "cus", "cy",
    "deme", "demo", "demon", "dion", "disia", "dius", "dora", "doros", "dra",
    "eas", "ene", "eras", "es", "eu", "euge",
    "gai", "gios", "gius", 
    "hele", "hera", "herm", "hiero",
    "ia", "idas", "ios", "ire", "is", "isi", 
    "ka", "kalli", "kar", "kass", "kleo", "kos",
    "laos", "leon", "lia", "lige", "lin", "lon", "ly", "lys", 
    "mache", "melis", "misia", "mos", "my",
    "na", "ne", "neo", "nico", "nius", "nymos",
    "olym", "on", "op", "orphe", "os",
    "panthe", "pela", "pelios", "pelius", "petos", "phia", "phil", "pho", "phon", "phosa", "phus", "pos", "pus", 
    "ras", "ron", "roxa", "rus",
    "sa", "so", "stos", "strate",
    "tasia", "tasios", "tha", "the", "theo", "thon", "tides", "tocles", "tolius", "ton", "tos", "tria", "trios", "try",
    "xan", "xen", "xeno",
    "ysius",
    "zeno", "zenon"
];

let japanese = [
    "ai", "aiko", "aki", "ao", "asu", "aya", "ayu",
    "ba", "bu", "bi",
    "chi", "cho",
    "da", "dai", "deki", "den", "do",
    "et",
    "fu",
    "ga", "gai",
    "hachi", "haru", "hi", "hon",
    "ichi", "iga", "itsu", "izu",
    "ji", "jun",
    "ka", "kai", "ke", "ken", "ki", "ko", "kyo", "ku",
    "ma", "mi",
    "na", "no", 
    "ouke",
    "ra", "rai", "rei", "ren", "ri", "rin", "ro", "rou", "ru", "ryo", "ryu",
    "sa", "sai", "sam", "shi", "shin", "sho", "shouta", "shun", "su", "suke",
    "ta", "tai", "ten", "taka", "take", "to", "tomo", "tsu",
    "uke",
    "ya", "yate", "yama", "yo", "yu",
    "za", "zue", "zuki", "zuo", "zu"
];

let korean = [
    "an", 
    "bang", "bok", 
    "cha", "chang", "cho",
    "dong",
    "eul", "eun",
    "gi", "gu", "gwa", "gye",
    "ha", "han", "ho", "hun", "hwa", "hye", "hyung",
    "is",
    "jae", "je", "ji", "jin", "jo", "jong", "joon", "jun",
    "ki", "kim", "ky",
    "lee",
    "ma", "moon", "mye",
    "nim",
    "ok", "on",
    "park",
    "ri",
    "san", "sang", "se", "seo", "shin", "si", "song", "sung",
    "uk", "ul", "ung",
    "wo",
    "ye", "yo", "yong", "young", "yu"
];

let roman = [
    "ael", "aem", "aet", "al", "amo", "ana", "aur", "augus", "avi", "avia",
    "bal", "blan", "blas", "bru",
    "cae", "cael", "caes", "cai", "cami", "cass", "cat", "cel", "cice", "cilla", "cius", "cimus", "corne", "cretia", "cus",
    "dela", "dus",
    "en", "el", "ele",
    "fab", "faust", "fer", "fla", "flo", "flori",
    "ia", "iana", "ina", "inus", "ius", "ix",
    "gai", "gal", "ginius",
    "lauren", "lina", "linus", "lius", "lo", "long", "luc", "lus",
    "mar", "max", "maxi", "milla",
    "ne", "nelia", "nia", "nius", "no", "non", "nume",
    "oct",
    "pau", "pon", "pris",
    "quin",
    "regu", "rina", "rus",
    "sar", "saturn", "secun", "ser", "sever",
    "ta", "tan", "ti","tiber", "tilius", "tinus", "tus",
    "ro",
    "us",
    "val", "valen", "vari", "vergi", "vi", "vindi", "vini", "vius",
    "xus"
];

let russian = [
    "ad", "aga", "ak", "aki", "aleks", "alex", "am", "an", "ana", "anas", "and", "astas",
    "bo",
    "chka",
    "de", "di", "dik", "dimir", "do", "domir", "dora", "diya",
    "e", "ei", "eka", "ev",
    "gala", "gali", "ge", "gei", "gej", "gela", "geor", "geya", "gy",
    "iri", "isa", "isi", "iana", "ina",
    "je",
    "katerina", "ken", "ki", "kla", "kov", "krist",
    "la", "lai", "lan", "lana", "lav", "len", "lena", "leo", "letta", "lery", "lina", "lisa", "lu",
    "mak", "mar", "mara", "mi", "mir", "milo", "mitri", "minika",
    "na", "nast", "nat", "nata", "nei", "ni", "nika", "nid", "niko", "nov", "nya",
    "ok", "ol",
    "pa", "pat", "pela", "pet", "pla", "pol", "praskov",
    "ra", "rado", "rai", "rei", "rina", "ris", "riya", "rya",
    "sana", "ser", "sevas", "sey", "sha", "sili", "siya", "ska", "sla", "slav", "slava", "svet", "sya",
    "ta", "tai", "tasia", "tasiya", "tek", "terina", "tian", "ton", "tor", "toriya",
    "ul", "usha", "usti",
    "va", "vale", "vel", "vera", "vik", "vio", "vlad", "vladi",
    "ya", "ye", "yu",
    "za", "zaliya", "zanna", "zar", "zi", "zino", "zla", "zo"
];

let vietnamese = [
    "an", "anh",
    "bao", "bich", "binh",
    "cam", "chau", "chi", "chim", "cho", "chua", "cuc",
    "dai", "dao", "dat", "diep", "dep", "dinh", "do", "dong", "duc", "dung", "duong",
    "hao", "hiep", "ho", "hoa", "hong", "hue", "hung", "huong", "huy",
    "kiem", "kim", "kin",
    "lan", "lanh", "linh", "loc",
    "mai", "meo", "minh", "moi", "mot", 
    "ngai", "ngo", "ngoc", "ngu", "nguy", "nhung", "nu",
    "ong", "oc",
    "pho", "phu", "phuc",
    "ron",
    "sang", "set", "si", "sung",
    "quan", "quang", "quy", "quyen",
    "tien", "thanh", "thi", "tho", "thu", "thuan", "thuy", "tien", "trai", "trinh", "troi", "truc", "tu", "tuan", "tu", "tuan",
    "van", "vien", "vinh", "vua", 
    "xu",
    "yen", "yet"
];

let vulgar = [
    "ass", "arse",
    "bag", "bastard", "bitch", "bull",
    "cow", "crap", "creep",
    "damn", "dirty", "dog", "dork", "dumb",
    "eat", "er", "est", "evil",
    "fat", "fart", "fool", "face",
    "ginger",
    "hag", "head", "ho",
    "ier", "iest", "idiot",
    "jizz",
    "lard", "lame", "lose", "low",
    "meat", "moron",
    "noob", "nub",
    "pansy", "poor", "prick", "puss",
    "re",
    "shame", "shit", "stink", "stupid",
    "tard", "trash", "turd",
    "ugly",
    "vile",
    "whore", "woop", "wuss"
];

let selectedMode = [];
let selectedModeLength = 0;
let fanUserSelectedMode = "";
let fanUserNameLength = 0;
let fanUserOutput = "";
let limitCounter = 0;
let maxLimit = 300;

function fanuserExecute() {
    if (limitCounter < maxLimit) {
        fanUserSelectedMode = document.getElementById("fanuser-mode").value;
        fanUserNameLength = document.getElementById("fanuser-name-length").value;
        //console.log("fanUserSelectedMode: " + fanUserSelectedMode);
        //console.log("fanUserNameLength: " + fanUserNameLength);

        const modes = {
            Fantasy: fantasy,
            German: german,
            Greek: greek,
            Japanese: japanese,
            Korean: korean,
            Roman: roman,
            Russian: russian,
            Vietnamese: vietnamese,
            Vulgar: vulgar
        };

        const selectedArray = modes[fanUserSelectedMode];

        if (selectedArray) {
            selectedMode = selectedArray;
            selectedModeLength = selectedArray.length;
        }
        
        let tempString = "";
        for(let i=0; i<fanUserNameLength; i++) {
            tempString += selectedMode[Math.floor(Math.random() * selectedModeLength)];
        }
        
        // Uppercase the first letter
        fanUserOutput += tempString.charAt(0).toUpperCase() + tempString.slice(1);

        //console.log("Output: \n" + fanUserOutput);
        var textareaFanUser = document.getElementById("fantasy-username-output");
        // Showing output in the textarea
        textareaFanUser.value = fanUserOutput;
        fanUserOutput += "\n"
        // When more outputs are added, we want the scrollbar to go to the bottom
        textareaFanUser.scrollTop = textareaFanUser.scrollHeight;
        updateLineNumbers();
        limitCounter++;
    }
    //console.log("limitCounter = " + limitCounter);
}

function clearFanUserOutput() {
    //console.log("clearFanUserOutput() clicked")
    document.getElementById("fantasy-username-output").value = ""; // Empty the textarea
    fanUserOutput = ""; // Empty the output too
    updateLineNumbers();
    limitCounter = 0;
    //console.log("limitCounter = " + limitCounter);
}

function copySelectAllFanUser(id) {
	let input = document.getElementById(id);
	input.select();
    //input.setSelectionRange(0, 99999); // For mobile devices
    // Copy the text inside the text field
    navigator.clipboard.writeText(input.value);
}


/*
    Big code of line-number for the Fantasy Username textarea
*/
const textarea = document.getElementById('fantasy-username-output');
const lineNumbers = document.getElementById('lineNumbers');

function updateLineNumbers() {
    const value = textarea.value || '';
    const lines = value.split('\n');

    // Setup mirror container
    const mirror = document.createElement('div');
    const style = getComputedStyle(textarea);

    mirror.style.position = 'absolute';
    mirror.style.visibility = 'hidden';
    mirror.style.whiteSpace = 'pre-wrap';
    mirror.style.wordBreak = 'break-word';
    mirror.style.fontFamily = style.fontFamily;
    mirror.style.fontSize = style.fontSize;
    mirror.style.lineHeight = style.lineHeight;
    mirror.style.padding = style.padding;
    mirror.style.border = style.border;
    mirror.style.boxSizing = style.boxSizing;
    mirror.style.width = textarea.clientWidth + 'px';

    document.body.appendChild(mirror);

    const lineHeight = parseFloat(style.lineHeight);
    let numbersText = '';

    lines.forEach((line, index) => {
        const span = document.createElement('span');
        span.textContent = line || ' '; // Prevent zero height on empty lines
        mirror.appendChild(span);

        // Measure span height to find wrapped line count
        const spanHeight = span.getBoundingClientRect().height;
        const wrappedLines = Math.max(1, Math.round(spanHeight / lineHeight));

        // Add line number + blank lines for wrapped parts
        numbersText += (index + 1) + '\n';
        for (let i = 1; i < wrappedLines; i++) {
            numbersText += '\n';
        }

        mirror.removeChild(span);
    });

    lineNumbers.textContent = numbersText;

    document.body.removeChild(mirror);
}

textarea.addEventListener('input', updateLineNumbers);
textarea.addEventListener('scroll', () => {
    lineNumbers.scrollTop = textarea.scrollTop;
});
window.addEventListener('resize', updateLineNumbers);
document.addEventListener('DOMContentLoaded', updateLineNumbers);
